<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <script src="jquery-3.4.1.js" type="text/javascript"></script>
    <link href="../layui/css/layui.css" media="all" rel="stylesheet">
    <script charset="utf-8" src="../layui/layui.all.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>登录</title>
</head>
<body>
<form method="post" id="loginForm" onsubmit="return false">
    <div class="dowebok">
        <div class="logo"></div>
        <div class="form-item">
            <input value="zdk" id="username" type="text" autocomplete="off" placeholder="请输入账号" name="username">
        </div>
        <div class="form-item">
            <input value="123" id="password" type="password" autocomplete="off" placeholder="登录密码" name="password">
        </div>
        <div class="form-item">
            <button type="submit" id="submit" onclick="ajaxCall()">登 录</button>
        </div>
        <div class="form-item">
            <button onclick="window.location.href='userMain.html'">游客进入</button>
        </div>
        <div class="form-item">
            <button id="reset" type="reset">重置</button>
        </div>
        <div class="form-item">
            <button id="register" type="reset" onclick="window.location.href='register.html'">注册</button>
        </div>
    </div>
</form>
<script>
  $('#reset').click(function () {
    $('#username').html('')
    $('#password').html('')
  })

  function ajaxCall () {
    console.log($('#username').val())
    console.log($('#password').val())
    $.ajax({
      type: 'POST',
      url: 'http://localhost:4567/user/login',
      // dataType:"multipart/form-data",
      // data: JSON.stringify({username:$('#username').val(),password:$('#password').val()}),
      data: $('#loginForm').serialize(),
      success: function (data) {
        if (JSON.parse(data).code != 200) {
          alert('账号或密码有误')
        } else {
          alert('登录成功')
          window.location.href = 'userMain.html'
        }
      },
      error: function () {
        alert('操作异常!')
      }
    })
  }
</script>


</body>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    html {
        height: 100%;
    }

    body {
        height: 100%;
        background: #fff url(https://gimg2.baidu.com/image_search/src=http%3A%2F%2Finews.gtimg.com%2Fnewsapp_match%2F0%2F12075168002%2F0.jpg&refer=http%3A%2F%2Finews.gtimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1623977513&t=99e1794ce7e98a5fad2b320b49e6005f) 50% 50% no-repeat;
        background-size: cover;
    }

    .dowebok {
        position: absolute;
        left: 50%;
        top: 40%;
        width: 430px;
        height: 700px;
        margin: -300px 0 0 -215px;
        border: 1px solid #fff;
        border-radius: 20px;
        overflow: hidden;
    }

    .logo {
        width: 104px;
        height: 104px;
        margin: 50px auto 80px;
        background: url(static/login.png) 0 0 no-repeat;
    }

    .form-item {
        position: relative;
        width: 360px;
        margin: 0 auto;
        padding-bottom: 30px;
    }

    .form-item input {
        width: 288px;
        height: 48px;
        padding-left: 70px;
        border: 1px solid #fff;
        border-radius: 25px;
        font-size: 18px;
        color: #fff;
        background-color: transparent;
        outline: none;
    }

    .form-item button {
        width: 360px;
        height: 50px;
        border: 0;
        border-radius: 25px;
        font-size: 18px;
        color: #1f6f4a;
        outline: none;
        cursor: pointer;
        background-color: #fff;
    }

    #username {
        background: url(static/emil.png) 20px 14px no-repeat;
    }

    #password {
        background: url(static/password.png) 23px 11px no-repeat;
    }

    .tip {
        display: none;
        position: absolute;
        left: 20px;
        top: 52px;
        font-size: 14px;
        color: #f50;
    }

    .reg-bar {
        width: 360px;
        margin: 20px auto 0;
        font-size: 14px;
        overflow: hidden;
    }

    .reg-bar a {
        color: #fff;
        text-decoration: none;
    }

    .reg-bar a:hover {
        text-decoration: underline;
    }

    .reg-bar .reg {
        float: left;
    }

    .reg-bar .forget {
        float: right;
    }

    .dowebok ::-webkit-input-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok :-moz-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok ::-moz-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    .dowebok :-ms-input-placeholder {
        font-size: 18px;
        line-height: 1.4;
        color: #fff;
    }

    @media screen and (max-width: 500px) {
        * {
            box-sizing: border-box;
        }

        .dowebok {
            position: static;
            width: auto;
            height: auto;
            margin: 0 30px;
            border: 0;
            border-radius: 0;
        }

        .logo {
            margin: 50px auto;
        }

        .form-item {
            width: auto;
        }

        .form-item input,
        .form-item button,
        .reg-bar {
            width: 100%;
        }
    }
</style>
</html>